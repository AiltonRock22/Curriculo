<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador de Produtos</title>
        <br><title>Teste Isabela </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-4xl">
        <header class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800">Gerenciador de Produtos</h1>
            <p class="text-gray-500 mt-2">Um projeto simples de CRUD (Create, Read, Update, Delete) em JavaScript.</p>
        </header>

        <!-- Formulário de Adição/Edição -->
        <form id="productForm" class="mb-8 p-6 bg-gray-50 rounded-lg shadow-inner">
            <h2 class="text-xl font-semibold text-gray-700 mb-4" id="formTitle">Adicionar Novo Produto</h2>
            <div class="flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0">
                <div class="flex-grow">
                    <label for="productName" class="block text-sm font-medium text-gray-700">Nome do Produto</label>
                    <input type="text" id="productName" placeholder="Ex: Monitor Gamer" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                </div>
                <div class="flex-grow-0 md:w-1/4">
                    <label for="productPrice" class="block text-sm font-medium text-gray-700">Preço</label>
                    <input type="number" id="productPrice" placeholder="Ex: 1500" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                </div>
            </div>
            <div class="flex justify-end mt-6">
                <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition duration-200">Adicionar</button>
            </div>
        </form>

        <!-- Tabela de Produtos -->
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nome</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Preço</th>
                        <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                    </tr>
                </thead>
                <tbody id="productList" class="bg-white divide-y divide-gray-200">
                    <!-- Produtos serão inseridos aqui pelo JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Script JavaScript para a lógica do CRUD -->
    <script>
        const productForm = document.getElementById('productForm');
        const productNameInput = document.getElementById('productName');
        const productPriceInput = document.getElementById('productPrice');
        const productList = document.getElementById('productList');
        const formTitle = document.getElementById('formTitle');
        
        let products = [
            { id: 1, name: 'Smartphone Pro', price: 2500 },
            { id: 2, name: 'Fone de Ouvido Bluetooth', price: 350 }
        ];
        let editingId = null;

        const renderProducts = () => {
            productList.innerHTML = '';
            products.forEach(product => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50 transition duration-150';
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${product.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">R$ ${product.price.toFixed(2)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2">
                        <button onclick="editProduct(${product.id})" class="text-indigo-600 hover:text-indigo-900 transition duration-150">Editar</button>
                        <button onclick="deleteProduct(${product.id})" class="text-red-600 hover:text-red-900 transition duration-150">Excluir</button>
                    </td>
                `;
                productList.appendChild(row);
            });
        };

        const addProduct = (e) => {
            e.preventDefault();
            const name = productNameInput.value;
            const price = parseFloat(productPriceInput.value);

            if (!name || isNaN(price) || price <= 0) {
                return;
            }

            if (editingId) {
                products = products.map(product => 
                    product.id === editingId ? { ...product, name, price } : product
                );
                editingId = null;
                formTitle.textContent = 'Adicionar Novo Produto';
            } else {
                const newProduct = {
                    id: products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1,
                    name,
                    price
                };
                products.push(newProduct);
            }

            productForm.reset();
            renderProducts();
        };

        const editProduct = (id) => {
            const productToEdit = products.find(product => product.id === id);
            if (productToEdit) {
                editingId = id;
                productNameInput.value = productToEdit.name;
                productPriceInput.value = productToEdit.price;
                formTitle.textContent = 'Atualizar Produto';
            }
        };

        const deleteProduct = (id) => {
            products = products.filter(product => product.id !== id);
            renderProducts();
        };

        productForm.addEventListener('submit', addProduct);
        renderProducts();
    </script>
</body>
</html>
